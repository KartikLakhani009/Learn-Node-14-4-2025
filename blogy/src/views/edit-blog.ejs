<div class="container mt-4">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <h1 class="mb-4">Edit Blog Post</h1>
      
      <% if (locals.errors && errors.length > 0) { %>
        <div class="alert alert-danger">
          <ul class="mb-0">
            <% errors.forEach(error => { %>
              <li><%= error.msg %></li>
            <% }); %>
          </ul>
        </div>
      <% } %>
      
      <form action="/blog/<%= blog._id %>/edit" method="POST" enctype="multipart/form-data">
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input 
            type="text" 
            class="form-control" 
            id="title" 
            name="title" 
            value="<%= blog.title %>" 
            required
          >
        </div>
        
        <div class="mb-3">
          <label for="description" class="form-label">Description</label>
          <textarea 
            class="form-control" 
            id="description" 
            name="description" 
            rows="2" 
            required
          ><%= blog.description %></textarea>
          <div class="form-text">A brief summary of your blog post (appears in previews)</div>
        </div>
        
        <div class="mb-3">
          <label for="body" class="form-label">Content</label>
          <textarea 
            class="form-control" 
            id="body" 
            name="body" 
            rows="10" 
            required
          ><%= blog.body %></textarea>
        </div>
        
        <div class="mb-3">
          <label for="coverImage" class="form-label">Cover Image</label>
          <% if (blog.coverImage) { %>
            <div class="mb-2">
              <img 
                src="<%= blog.coverImage %>" 
                alt="Current cover image" 
                style="max-width: 100%; max-height: 200px; object-fit: cover;"
                class="img-thumbnail"
              >
            </div>
          <% } %>
          <input 
            type="file" 
            class="form-control" 
            id="coverImage" 
            name="coverImage"
            accept="image/*"
          >
          <div class="form-text">
            Optional. Leave empty to keep the current image<% if (!blog.coverImage) { %> or upload a new one<% } %>.
          </div>
        </div>
        
        <div class="d-flex justify-content-between mt-4">
          <a href="/blog/<%= blog._id %>" class="btn btn-outline-secondary">Cancel</a>
          <button type="submit" class="btn btn-primary">Update Blog</button>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Generated by Copilot -->